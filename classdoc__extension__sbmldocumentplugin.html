<!-- HTML header for Doxygen -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>libSBML C++ API: doc_extension_sbmldocumentplugin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="sbml.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="libsbml-doxygen-stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBML C++ API
   &#160;<span id="projectnumber">5.19.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdoc__extension__sbmldocumentplugin.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">doc_extension_sbmldocumentplugin Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section user"><dt></dt><dd>The following subsections detail the basic steps necessary to use <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a> to extend <a class="el" href="class_s_b_m_l_document.html" title="\ @ @ . .">SBMLDocument</a> for a given package extension.</dd></dl>
<h2><a class="anchor" id="sdp-identify"></a>
1. Identify the changes necessary to SBMLDocument</h2>
<p>The specification for a SBML Level&#160;3 package will define the changes to the SBML <code>&lt;sbml&gt;</code> element. Packages typically do not make any changes beyond adding an attribute named "required" (discussed below), so in most cases, the extension of <a class="el" href="class_s_b_m_l_document.html" title="\ @ @ . .">SBMLDocument</a> is very simple. However, some packages do more. For instance, the Hierarchical Model Composition package adds subobjects for lists of model definitions. <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a> supports all these cases.</p>
<h2><a class="anchor" id="sdp-implement"></a>
2. Create the SBMLDocumentPlugin subclass</h2>
<p>A package extension will only define one subclass of <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a>. Below, we describe in detail the different parts of a subclass definition.</p>
<h3><a class="anchor" id="sdp-class"></a>
2.1 Override SBasePlugin class-related methods</h3>
<p>The derived class must override the constructor, copy constructor, assignment operator (<code>operator=</code>) and <code>clone()</code> methods from <a class="el" href="class_s_base_plugin.html" title="\ @ @ . .">SBasePlugin</a>.</p>
<h3><a class="anchor" id="sdp-required"></a>
2.2 Determine the necessary value of the "required" attribute</h3>
<p>At minimum, it is necessary for a package implementation to add the "required" attribute to the SBML <code>&lt;sbml&gt;</code> element mandated by SBML for all Level&#160;3 packages, and this is done using this class as a base. If the 'required' attribute is the <em>only</em> addition necessary for a particular SBML Level&#160;3 package, then the subclass of <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a> for the package can have a very simple implementation. Some Level&#160;3 packages add additional attributes or elements to <code>&lt;sbml&gt;</code>, and their implementations would go into the subclassed <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a>.</p>
<p><a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a> provides methods with default implementations that support managing the "required" attribute, so package extension code does not need to provide implementations&mdash;they only need to set the correct value for the SBML Level&#160;3 package based on its specification. The following are the virtual methods for working with the "required" attribute. Package extensions would only need to override them in special circumstances:</p>
<ul>
<li><code>setRequired(bool value)</code>: This method sets the value of the flag.</li>
</ul>
<ul>
<li><code>getRequired()</code>: This method gets the value of the "required" flag.</li>
</ul>
<ul>
<li><code>isSetRequired()</code>: This method tests if the value has been set.</li>
</ul>
<ul>
<li><code>unsetRequired()</code>: This method unsets the value of the "required" flag.</li>
</ul>
<h3><a class="anchor" id="sdp-protected"></a>
2.3 Define protected data members</h3>
<p>An extended <a class="el" href="class_s_b_m_l_document.html" title="\ @ @ . .">SBMLDocument</a> object may need more than just the "required" attribute, depending on what is defined in the specification for the package being implemented. Data attributes on the extended <code>&lt;sbml&gt;</code> object in an SBML package will have one of the data types <code>std::string</code>, <code>double</code>, <code>int</code>, or <code>bool</code>. Subelements/subobjects will normally be derived from the <a class="el" href="class_list_of.html" title="\ @ @ . &#39; &quot;&quot; .">ListOf</a> class or from <a class="el" href="class_s_base.html" title="\ @ @ . &#39; &lt;&gt;%&lt;/&gt; , .">SBase</a>.</p>
<p>The additional data members must be properly initialized in the class constructor, and must be properly copied in the copy constructor and assignment operator.</p>
<h3><a class="anchor" id="sdp-methods-attribs"></a>
2.4 Override virtual methods for attributes</h3>
<p>If the extended component is defined by the SBML Level&#160;3 package to have attributes, then the extended <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a> class definition needs to override the following internal methods that come from <a class="el" href="class_s_base_plugin.html" title="\ @ @ . .">SBasePlugin</a> (the base class of <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a>) and provide appropriate implementations:</p>
<ul>
<li><code>addExpectedAttributes(ExpectedAttributes&amp; attributes)</code>: This method should add the attributes that are expected to be found on this kind of extended component in an SBML file or data stream.</li>
</ul>
<ul>
<li><code>readAttributes(<a class="el" href="class_x_m_l_attributes.html" title="\ @ @ . .">XMLAttributes</a>&amp; attributes, ExpectedAttributes&amp; expectedAttributes)</code>: This method should read the attributes expected to be found on this kind of extended component in an SBML file or data stream.</li>
</ul>
<ul>
<li><code>hasRequiredAttributes()</code>: This method should return <code>true</code> if all of the required attribute for this extended component are present on instance of the object.</li>
</ul>
<ul>
<li><code>writeAttributes(XMLOutputStream&amp; stream)</code>: This method should write out the attributes of an extended component. The implementation should use the different kinds of <code>writeAttribute</code> methods defined by <a class="el" href="class_x_m_l_output_stream.html" title="\ @ @ . .">XMLOutputStream</a> to achieve this.</li>
</ul>
<h3><a class="anchor" id="sdp-methods-elem"></a>
2.5 Override virtual methods for subcomponents</h3>
<p>If the extended component is defined by the Level&#160;3 package to have subcomponents (i.e., full XML elements rather than mere attributes), then the extended class definition needs to override the following internal methods on <a class="el" href="class_s_base_plugin.html" title="\ @ @ . .">SBasePlugin</a> (the base class of <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a>) and provide appropriate implementations:</p>
<ul>
<li><code>createObject(XMLInputStream&amp; stream)</code>: Subclasses must override this method to create, store, and then return an SBML object corresponding to the next <a class="el" href="class_x_m_l_token.html" title="\ @ @ . .">XMLToken</a> in the <a class="el" href="class_x_m_l_input_stream.html" title="\ @ @ . .">XMLInputStream</a>. To do this, implementations can use methods like <code>peek()</code> on <a class="el" href="class_x_m_l_input_stream.html" title="\ @ @ . .">XMLInputStream</a> to test if the next object in the stream is something expected for the package. For example, <a class="el" href="class_layout_model_plugin.html" title="\ @ @ . .">LayoutModelPlugin</a> uses <code>peek()</code> to examine the next element in the input stream, then tests that element against the <a class="el" href="class_layout.html" title="\ @ @ . .">Layout</a> namespace and the element name <code>"listOfLayouts"</code> to see if it's the single subcomponent (<a class="el" href="class_list_of_layouts.html" title="\ @ @ . .">ListOfLayouts</a>) permitted on a <a class="el" href="class_model.html" title="\ @ @ . .">Model</a> object using the <a class="el" href="class_layout.html" title="\ @ @ . .">Layout</a> package. If it is, it returns the appropriate object.</li>
</ul>
<ul>
<li><code>connectToParent(SBase *sbase)</code>: This creates a parent-child relationship between a given extended component and its subcomponent(s).</li>
</ul>
<ul>
<li><code>setSBMLDocument(SBMLDocument* d)</code>: This method should set the parent <a class="el" href="class_s_b_m_l_document.html" title="\ @ @ . .">SBMLDocument</a> object on the subcomponent object instances, so that the subcomponent instances know which <a class="el" href="class_s_b_m_l_document.html" title="\ @ @ . .">SBMLDocument</a> contains them.</li>
</ul>
<ul>
<li><code>enablePackageInternal(std::string&amp; pkgURI, std::string&amp; pkgPrefix, bool flag)</code>: This method should enable or disable the subcomponent based on whether a given XML namespace is active.</li>
</ul>
<ul>
<li><code>writeElements(XMLOutputStream&amp; stream)</code>: This method must be overridden to provide an implementation that will write out the expected subcomponents/subelements to the XML output stream.</li>
</ul>
<ul>
<li><code>readOtherXML(SBase* parentObject, XMLInputStream&amp; stream)</code>: This function should be overridden if elements of annotation, notes, MathML content, etc., need to be directly parsed from the given <a class="el" href="class_x_m_l_input_stream.html" title="\ @ @ . .">XMLInputStream</a> object.</li>
</ul>
<ul>
<li><code>hasRequiredElements()</code>: This method should return <code>true</code> if a given object contains all the required subcomponents defined by the specification for that SBML Level&#160;3 package.</li>
</ul>
<h3><a class="anchor" id="sdp-methods-xmlns"></a>
2.6 Override virtual methods for XML namespaces</h3>
<p>If the package needs to add additional <code>xmlns</code> attributes to declare additional XML namespace URIs, the extended class should override the following method coming from <a class="el" href="class_s_base_plugin.html" title="\ @ @ . .">SBasePlugin</a> (the parent class of <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a>):</p>
<ul>
<li><code>writeXMLNS(XMLOutputStream&amp; stream)</code>: This method should write out any additional XML namespaces that might be needed by a package implementation.</li>
</ul>
<h3><a class="anchor" id="sdp-methods-hooks"></a>
2.7 Implement additional methods as needed</h3>
<p>Extended <a class="el" href="class_s_b_m_l_document_plugin.html" title="\ @ @ . .">SBMLDocumentPlugin</a> implementations can add whatever additional utility methods are useful for their implementation. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for Doxygen -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Visit <a href="http://sbml.org">SBML.org</a> for more information
    about SBML and libSBML.
    </li>
   </ul>
</div>
</body>
</html>
